{% if cart.item_count > 0 %}
  <tips-block id="tips" data-id="{{ block.id }}" class="page-width">
    <div class="tips-wrapper">
      <article>
        <span class="tips__header">Send some love to your hardworking fulfillment workers alongside your order 💜</span>
        <span class="tips__subheader no-wrap">
          Powered by <b>HeyThanks</b> <span title="What is HeyThanks?" class="tips__help__tooltip"></span>
        </span>
      </article>

      <input type="radio" id="radio-1" name="tip-options">
      <label for="radio-1" class="animated unselectable">
        <div class="label-inner">
          <span class="tips__radio-control animated"></span>
          {%- if block.settings.emoji_1 != 'None' -%}
            <span class="tips__radio-emoji">{{ block.settings.emoji_1 }}</span>
          {%- endif -%}
          {%- if block.settings.price_1 -%}
            <span class="tips__radio-price">{{ block.settings.price_1 | times: 100 | money }}</span>
          {%- endif -%}
        </div>
      </label>

      <input type="radio" id="radio-2" name="tip-options">
      <label for="radio-2" class="animated unselectable">
        <div class="label-inner">
          <span class="tips__radio-control animated"></span>
          {%- if block.settings.emoji_2 != 'None' -%} 
            <span class="tips__radio-emoji">{{ block.settings.emoji_2 }}</span>
          {%- endif -%}
          {%- if block.settings.price_2 -%}
            <span class="tips__radio-price">{{ block.settings.price_2 | times: 100 | money }}</span>
          {%- endif -%}
        </div>
      </label>
    </div>
    {% if request.design_mode %}
      <div id="overlay">
        <div id="text">
          <b>&larr; Move HeyThanks</b>
          <p>We recommend that you drag HeyThanks to sit above the Subtotal section.</p>
          <p>Hover over the Apps section above the Tips block and hold-down the <svg height="1.6rem" width="1.6rem" fill="white" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 2a2 2 0 10.001 4.001A2 2 0 007 2zm0 6a2 2 0 10.001 4.001A2 2 0 007 8zm0 6a2 2 0 10.001 4.001A2 2 0 007 14zm6-8a2 2 0 10-.001-4.001A2 2 0 0013 6zm0 2a2 2 0 10.001 4.001A2 2 0 0013 8zm0 6a2 2 0 10.001 4.001A2 2 0 0013 14z" fill="white"/></svg> icon to start dragging.</p>
          <button onclick="off()">Dismiss</button>
        </div>
      </div>
    {% endif %}
  </tips-block>

{% endif %}
  
{% if request.design_mode %}
  <section id="design" class="page-width">
    <div class="design-wrapper">
      <p>
        <i>We see you're in design mode...</i><br>
        Add a product to your cart to edit your <b>HeyThanks</b> tipping options!
      </p>
    </div>
  </section>
{% endif %}

{% schema %}
  {
    "name": "Tips block",
    "target": "section",
    "tag": "section",
    "stylesheet": "tips-block.css",
    "javascript": "tips-block.js",
    "templates": ["cart", "index"],
    "settings": [
      {
        "type": "header",
        "content": "Tip Option 1"
      },
      {
        "type": "select",
        "id": "emoji_1",
        "label": "Emoji",
        "options": [
          {
            "value": "None",
            "label": "None"
          },
          {
            "value": "🙂",
            "label": "🙂"
          },
          {
            "value": "🏎",
            "label": "🏎"
          }
        ],
        "default": "🙂"
      },
      {
        "type": "number",
        "id": "price_1",
        "label": "Price",
        "default": 1
      },
      {
        "type": "header",
        "content": "Tip Option 2"
      },
      {
        "type": "select",
        "id": "emoji_2",
        "label": "Emoji",
        "options": [
          {
            "value": "None",
            "label": "None"
          },
          {
            "value": "🥰",
            "label": "🥰"
          },
          {
            "value": "🚀",
            "label": "🚀"
          }
        ],
        "default": "🥰"
      },
      {
        "type": "number",
        "id": "price_2",
        "label": "Price",
        "default": 5
      }
    ]
  }
{% endschema %}
